<!doctype html>

<html lang="en", style="background-color:azure">

<head>
    <meta charset="utf-8">
</head>

<body style="
    margin-left: auto;
    margin-right: auto;
    width: 900px;
    margin-top: 200px;">
    <script src="../statemachine.js"></script>
    <script src="../play.js"></script>
    <script src="../streams.js"></script>
    <script src="../basic.js"></script>
    <script src="../events.js"></script>
    <script src="../util.js"></script>
    <script src="easyutil.js"></script>
    <form style="font-size:60px">
        Server Name<br>
        <input type="text" name="servername" id="server", style="font-size:60px">
        <button type="button" onclick="report()" id="target", style="font-size:60px">Submit</button>
    </form>
    <br />
    <div id="results", style="font-size:50px"></div>
    <script>
        function report() {
            var request = {
                type: 'GET',
                url: $("server").value,
                headers: []
            }

            Begin()
                .request(request)
                .next(handleServerIsUp)
                .error(handleServerIsDown)
                .done()
        }

        /*
        Begin().stream(servername, args)
        .next(function() { return "up!"; })
        .error(function () { return "down!"; })
        .until(function(res) { return res === "up!"; })
        .done(handleServerIsUp)
        */
    </script>
</body>

</html>
